{"version":3,"sources":["webpack:///./src/components/writeBoard.vue?944a","webpack:///src/components/writeBoard.vue","webpack:///./src/components/writeBoard.vue?7b5f","webpack:///./src/components/writeBoard.vue","webpack:///./src/apis/board.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","model","value","callback","$$v","title","expression","content","uploadFile","handleExceed","slot","on","$event","$router","push","name","writeBoard","staticRenderFns","data","file","computed","methods","$message","warning","type","message","showClose","component","insertBoard","requestFormTest","post","getAllBoard","request","get","getBoard","id","deleteBoard","delete","updateBoard"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,SAASH,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACJ,EAAIO,GAAG,QAAQH,EAAG,WAAW,CAACI,MAAM,CAAC,YAAc,QAAQ,UAAY,IAAIC,MAAM,CAACC,MAAOV,EAAS,MAAEW,SAAS,SAAUC,GAAMZ,EAAIa,MAAMD,GAAKE,WAAW,YAAY,GAAGV,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACJ,EAAIO,GAAG,QAAQH,EAAG,WAAW,CAACI,MAAM,CAAC,YAAc,UAAU,UAAY,IAAIC,MAAM,CAACC,MAAOV,EAAW,QAAEW,SAAS,SAAUC,GAAMZ,EAAIe,QAAQH,GAAKE,WAAW,cAAc,GAAGV,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACJ,EAAIO,GAAG,WAAWH,EAAG,YAAY,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,EAAE,YAAYR,EAAIgB,WAAW,KAAO,aAAa,OAAS,IAAI,YAAYhB,EAAIiB,aAAa,eAAc,IAAQ,CAACb,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQ,KAAO,WAAWU,KAAK,WAAW,CAAClB,EAAIO,GAAG,iBAAiBH,EAAG,MAAM,CAACE,YAAY,iBAAiBE,MAAM,CAAC,KAAO,OAAOU,KAAK,OAAO,CAAClB,EAAIO,GAAG,gDAAgD,IAAI,GAAGH,EAAG,MAAM,CAACA,EAAG,YAAY,CAACe,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOpB,EAAIqB,QAAQC,KAAK,CAAEC,KAAM,iBAAkB,CAACvB,EAAIO,GAAG,QAAQH,EAAG,YAAY,CAACe,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOpB,EAAIwB,gBAAgB,CAACxB,EAAIO,GAAG,SAAS,QACpwCkB,EAAkB,G,gFC0CtB,GACEC,KADF,WAEI,MAAO,CACLb,MAAO,GACPE,QAAS,GACTY,KAAM,OAGVC,SAAU,OAAZ,OAAY,CAAZ,GACA,yCAEEC,QAAS,CACP,WADJ,WACA,8JACA,0CACA,eAEA,QACA,8CAEA,qCACA,uCACA,0BACA,8BAEA,kBACA,iBACA,YACA,aACA,mBACA,iBAEA,sCAEA,mBACA,YACA,aACA,uCACA,kBAGA,oBACA,6CA7BA,8CAgCIb,WAjCJ,SAiCA,GACMf,KAAK0B,KAAOA,GAEdV,aApCJ,WAqCMhB,KAAK6B,SAASC,QAAQ,CACpBC,KAAM,UACNC,QAAS,mBACTC,UAAW,YC9FiU,I,YCOhVC,EAAY,eACd,EACApC,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAU,E,2CClBf,sMAGO,SAASC,EAAYV,GAC1B,OAAOW,OAAgBC,KAAK,eAAgBZ,GAGvC,SAASa,IACd,OAAOC,OAAQC,IAAI,iBAGd,SAASC,EAASC,GACvB,OAAOH,OAAQC,IAAR,wBAA6BE,IAG/B,SAASC,EAAYlB,GAC1B,OAAOc,OAAQK,OAAO,gBAAiB,CAAEnB,SAGpC,SAASoB,EAAYpB,GAC1B,OAAOW,OAAgBC,KAAK,gBAAiBZ","file":"js/chunk-a9f5e278.38defb22.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"cardTitle\"},[_vm._v(\"글쓰기\")]),_c('form',[_c('div',{staticClass:\"inputWrap\"},[_c('p',[_vm._v(\"제목\")]),_c('el-input',{attrs:{\"placeholder\":\"title\",\"clearable\":\"\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1),_c('div',{staticClass:\"inputWrap\"},[_c('p',[_vm._v(\"내용\")]),_c('el-input',{attrs:{\"placeholder\":\"content\",\"clearable\":\"\"},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1),_c('div',{staticClass:\"inputWrap\"},[_c('p',[_vm._v(\"첨부 파일\")]),_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"limit\":1,\"on-change\":_vm.uploadFile,\"name\":\"attachment\",\"action\":\"#\",\"on-exceed\":_vm.handleExceed,\"auto-upload\":false}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"select file\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"jpg/png files with a size less than 500kb\")])],1)],1),_c('div',[_c('el-button',{on:{\"click\":function($event){return _vm.$router.push({ name: 'boardList' })}}},[_vm._v(\"목록\")]),_c('el-button',{on:{\"click\":function($event){return _vm.writeBoard()}}},[_vm._v(\"삽입\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1 class=\"cardTitle\">글쓰기</h1>\n    <form>\n      <div class=\"inputWrap\">\n        <p>제목</p>\n        <el-input placeholder=\"title\" v-model=\"title\" clearable> </el-input>\n      </div>\n      <div class=\"inputWrap\">\n        <p>내용</p>\n        <el-input placeholder=\"content\" v-model=\"content\" clearable> </el-input>\n      </div>\n      <div class=\"inputWrap\">\n        <p>첨부 파일</p>\n        <el-upload\n          :limit=\"1\"\n          :on-change=\"uploadFile\"\n          class=\"upload-demo\"\n          name=\"attachment\"\n          action=\"#\"\n          :on-exceed=\"handleExceed\"\n          :auto-upload=\"false\"\n        >\n          <el-button slot=\"trigger\" size=\"small\" type=\"primary\"\n            >select file</el-button\n          >\n          <div class=\"el-upload__tip\" slot=\"tip\"\n            >jpg/png files with a size less than 500kb</div\n          >\n        </el-upload>\n      </div>\n      <div>\n        <el-button @click=\"$router.push({ name: 'boardList' })\">목록</el-button>\n        <el-button @click=\"writeBoard()\">삽입</el-button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { insertBoard } from '@/apis/board'\n// import axios from 'axios'\nexport default {\n  data() {\n    return {\n      title: '',\n      content: '',\n      file: null,\n    }\n  },\n  computed: {\n    ...mapState('auth', ['current_user']),\n  },\n  methods: {\n    async writeBoard() {\n      this.$store.dispatch('common/getLoading', true)\n      const formData = new FormData()\n      // body에 넣을 formData 설정\n      if (this.file) {\n        formData.append('attachment', this.file.raw, this.file.name)\n      }\n      formData.append('name', this.current_user.name)\n      formData.append('email', this.current_user.email)\n      formData.append('title', this.title)\n      formData.append('content', this.content)\n\n      insertBoard(formData)\n        .then(() => {\n          this.$message({\n            showClose: true,\n            message: '글 작성 완료.',\n            tpye: 'success',\n          })\n          this.$router.push({ name: 'boardList' })\n        })\n        .catch((err) => {\n          this.$message({\n            showClose: true,\n            message: err.response.data.errors.message,\n            tpye: 'error',\n          })\n        })\n        .finally(() => {\n          this.$store.dispatch('common/getLoading', false)\n        })\n    },\n    uploadFile(file) {\n      this.file = file\n    },\n    handleExceed() {\n      this.$message.warning({\n        type: 'warning',\n        message: '첨부파일은 1개만 가능합니다.',\n        showClose: 'true',\n      })\n    },\n  },\n}\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./writeBoard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./writeBoard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./writeBoard.vue?vue&type=template&id=62289219&\"\nimport script from \"./writeBoard.vue?vue&type=script&lang=js&\"\nexport * from \"./writeBoard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\nimport requestFormTest from '@/utils/requestFormTest'\n\nexport function insertBoard(data) {\n  return requestFormTest.post('/board/write', data)\n}\n\nexport function getAllBoard() {\n  return request.get('/board/boards')\n}\n\nexport function getBoard(id) {\n  return request.get(`/board/boards/${id}`)\n}\n\nexport function deleteBoard(data) {\n  return request.delete('/board/delete', { data })\n}\n\nexport function updateBoard(data) {\n  return requestFormTest.post('/board/update', data)\n}\n"],"sourceRoot":""}
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9f5e278"],{"8cf4":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"cardTitle"},[t._v("글쓰기")]),n("form",[n("div",{staticClass:"inputWrap"},[n("p",[t._v("제목")]),n("el-input",{attrs:{placeholder:"title",clearable:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),n("div",{staticClass:"inputWrap"},[n("p",[t._v("내용")]),n("el-input",{attrs:{placeholder:"content",clearable:""},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("div",{staticClass:"inputWrap"},[n("p",[t._v("첨부 파일")]),n("el-upload",{staticClass:"upload-demo",attrs:{limit:1,"on-change":t.uploadFile,name:"attachment",action:"#","on-exceed":t.handleExceed,"auto-upload":!1}},[n("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("select file")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("jpg/png files with a size less than 500kb")])],1)],1),n("div",[n("el-button",{on:{click:function(e){return t.$router.push({name:"boardList"})}}},[t._v("목록")]),n("el-button",{on:{click:function(e){return t.writeBoard()}}},[t._v("삽입")])],1)])])},r=[],o=n("1da1"),i=n("5530"),s=(n("96cf"),n("b0c0"),n("d3b7"),n("2f62")),c=n("ab3f"),u={data:function(){return{title:"",content:"",file:null}},computed:Object(i["a"])({},Object(s["c"])("auth",["current_user"])),methods:{writeBoard:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("common/getLoading",!0),n=new FormData,t.file&&n.append("attachment",t.file.raw,t.file.name),n.append("name",t.current_user.name),n.append("email",t.current_user.email),n.append("title",t.title),n.append("content",t.content),Object(c["d"])(n).then((function(){t.$message({showClose:!0,message:"글 작성 완료.",tpye:"success"}),t.$router.push({name:"boardList",query:{page:1}})})).catch((function(e){t.$message({showClose:!0,message:e.response.data.errors.message,tpye:"error"})})).finally((function(){t.$store.dispatch("common/getLoading",!1)}));case 8:case"end":return e.stop()}}),e)})))()},uploadFile:function(t){this.file=t},handleExceed:function(){this.$message.warning({type:"warning",message:"첨부파일은 1개만 가능합니다.",showClose:"true"})}}},l=u,d=n("2877"),p=Object(d["a"])(l,a,r,!1,null,null,null);e["default"]=p.exports},ab3f:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return u}));var a=n("b775"),r=n("ad03");function o(t){return r["a"].post("/board/write",t)}function i(t){return Object(a["a"])({url:"/board/boards",method:"get",params:t})}function s(t){return a["a"].get("/board/boards/".concat(t))}function c(t){return a["a"].delete("/board/delete",{data:t})}function u(t){return r["a"].post("/board/update",t)}}}]);
//# sourceMappingURL=chunk-a9f5e278.07ec1264.js.map